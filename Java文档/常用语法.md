# 常用语法 (Java)

- ### 生成token

  ```java
  import io.jsonwebtoken.Claims;
  import io.jsonwebtoken.Jwts;
  import io.jsonwebtoken.SignatureAlgorithm;
  
  import java.util.Date;
  import java.util.HashMap;
  import java.util.Map;
  
  public class JwtUtils {
      private static final String SECRET_KEY = "secret-key"; // 这里替换成自己的密钥
  
      public static String generateToken(String subject, Map<String, Object> claims, long ttlMillis) {
          long nowMillis = System.currentTimeMillis();
          Date now = new Date(nowMillis);
          Date expirationDate = new Date(nowMillis + ttlMillis);
  
          return Jwts.builder()
                  .setClaims(claims)
                  .setSubject(subject)
                  .setIssuedAt(now)
                  .setExpiration(expirationDate)
                  .signWith(SignatureAlgorithm.HS256, SECRET_KEY)
                  .compact();
      }
  
      public static Claims getClaimsFromToken(String token) {
          return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();
      }
  }
  ```
  
  上述代码中函数`generateToken(subject, claims, ttlMillis)`用于生成token，其中`subject`一般是id信息（即唯一的识别信息），`claims`一般是可选信息，包括用户名、邮箱等等，最后一个`ttlMillis`是有效时间，用毫秒作为单位
