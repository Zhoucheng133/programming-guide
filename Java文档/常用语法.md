# 常用语法 (Java)

- ## token

    ```java
    import io.jsonwebtoken.Claims;
    import io.jsonwebtoken.Jws;
    import io.jsonwebtoken.JwtBuilder;
    import io.jsonwebtoken.JwtParser;
    import io.jsonwebtoken.Jwts;
    import io.jsonwebtoken.SignatureAlgorithm;

    public class Token {
        // token的生效时间
        private long time=1000*60*60*24;
        // 签名
        private String signature="namedata";

        @RequestMapping("/getToken")
        String get(String name){
            JwtBuilder jwtBuilder=Jwts.builder();
            String jwtToken=jwtBuilder
                .claim("username", name)
                .setSubject("nameData")
                .setExpiration(new Date(System.currentTimeMillis()+time))
                .signWith(SignatureAlgorithm.HS256, signature)
                .compact();
            return jwtToken;
        }

        @RequestMapping("/parseToken")
        // 解析token
        String parse(String token){
            JwtParser jwtParser=Jwts.parser();
            Jws<Claims> claimsJws=jwtParser.setSigningKey(signature).parseClaimsJws(token);
            Claims claims=claimsJws.getBody();
            String name=(String) claims.get("username");
            return name;
        }
    }
    ```

    注意：

    - token的生效时间需要修改

    - 需要修改签名

    - 本代码获取到的只有Token中的`username`数据，也可以是别的参数

    - 需要加入`porm.xml`：

    ```xml
    <dependency>
        <groupId>io.jsonwebtoken</groupId>
        <artifactId>jjwt</artifactId>
        <version>0.9.1</version>
    </dependency>
    
    <dependency>
        <groupId>javax.xml.bind</groupId>
        <artifactId>jaxb-api</artifactId>
        <version>2.3.0</version>
    </dependency>
    
    <dependency>
        <groupId>com.sun.xml.bind</groupId>
        <artifactId>jaxb-impl</artifactId>
        <version>2.3.0</version>
    </dependency>
    
    <dependency>
        <groupId>com.sun.xml.bind</groupId>
        <artifactId>jaxb-core</artifactId>
        <version>2.3.0</version>
    </dependency>
    
    <dependency>
        <groupId>javax.activation</groupId>
        <artifactId>activation</artifactId>
        <version>1.1.1</version>
    </dependency>
    ```

- ## MySQL操作

  - ### 导入库
    - 对于单独的Java项目  

      导入myql的包，下载地址[点击这里](https://dev.mysql.com/downloads/connector/j/)
      
        ```java
        import java.sql.*;
        ```
      
    - 对于Maven项目（包括Spring Boot项目） 

        可以使用pom.xml文件导入，导入的内容如下：

        ```xml
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <scope>runtime</scope>
        </dependency>
        ```

  - ### 各种操作

      具体使用JDBC的方法可以见：[点击这里跳转到Gitee链接](https://gitee.com/Ryan-zhou/my-sql-tool)

      

      